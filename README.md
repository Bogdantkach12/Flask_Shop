# Project FLASK_SHOP_DIPLOM

## Склад нашої команди/The composition of our team:

Ткач Богдан - https://github.com/Bogdantkach12

Нікіта Емріх - https://github.com/NikitaEmrih

Шматько Дмитро - https://github.com/DimaShmatko999

Марков Дмитро - https://github.com/DmitriyM08

## Що робить проект/What does the project do:

#### Наш проект FLASK_SHOP створює веб-додаток магазину, на якому спочатку потрібно зареєструватися на сайті, а потім з'явиться сторінка HOME, SHOP, CART, CONTACTS, на сторінці SHOP ви зможете замовити техніку, а потім на сторінці CART ви відрегулюєте кількість товару та зможете оформити замовлення
#### Our FLASK_SHOP project creates a shop web application, in which you first need to register on the site, then the HOME, SHOP, CART, CONTACTS page will appear, on the SHOP page you can order equipment, and then on the CART page you can adjust the quantity of the product and can to order.

#### Інтерактивна демо-версія проекту/Interactive demo version of the project - http://tkachbogdan12.pythonanywhere.com/

## Чому проект корисний для нашої команди/Why the project is useful for our team

#### Наш проект корисний для нас, як для новачків у цьому напрямку тим, що ми навчилися працювати з HTML CSS та JS і створювати повноцінні веб-додатки, наш проект має всі необхідні можливості для створення повноцінного вебсайту для замовника, тому будь-яка людина може зайти на наш проект ознайомитися з ним і написати свій веб-додаток/ Our project is useful for us as newbies in this field because we have learned how to work with HTML CSS and JS and create full web applications, our project has all the full capabilities to create a complete website for a customer, so any person can go to our project, familiarize yourself with it and write your web application.

## Як можна приступити до роботи з нашим проектом/How to start working with our project

### Всі модулі які ми використовували під час роботи з проектом/All the modules we used while working with the project:

**flask** - це фреймворк для створення веб-застосунків мовою програмування Python/ is a framework for creating web applications in the Python programming language

**flask_login** - цей додаток використовується, щоб авторизувати користувача та для перевірки його на авторизацію та адміна/ this application is used to authorize the user and to check it for authorization and admin

**flask_migrate** - обробляє міграцію бази даних для додатків Flask/ completes database migration for Flask add-ons

**flask_sqlalchemy** - це для представлення користувальницької моделі та інтерфейсу з нашою базою даних/ this is to represent the user model and interface with our database

**flask_mail** - дозволяє легко відправляти електронні листи з вашої програми/ Allows you to easily send electronic sheets from your program

**telebot** - модуль для створення нашого бота/
module for creating our bot

**sqlite3** - база даних яка не має сервера і дозволяє зберігати всю базу локально на одному пристрої/ The database does not require a server and allows you to save the entire database locally on one device

**jinja2** - дозволяє підставляти змінні з Python прямо на сторінки в браузері/ allows you to place variables from Python directly on pages in the browser

**UserMixin** - Додавання аутентифікації до вашої програми за допомогою Flask-Login/ Adding authentication to your application with Flask-Login

**os** - забезпечують управління та взаємодію систем комп'ютера між собою/ provide control and interaction of computer systems among themselves

### Стисла інструкція по запуску проекта локально та віддаленно/ Concise instructions for launching the project locally and remotely:

**Щоб запустити наш проект локально, потрібно перейти в файл manage.py, відкрити термінал та написати команду/To run our project locally, you need to go to the manage.py file, open a terminal and write a command:**

**На Windows**:

    python manage.py

**На macOS**:

    python3 manage.py

**Щоб запустити наш проект віддаленно(на pythonanywhere) потрібно/To run our project remotely (on pythonanywhere) you need:**

1. Авторизуватися на сайті pythonanywhere і підтвердити пошту/ Log in to the pythonanywhere website and confirm your email
2. Перейти на сторінку Web і додати веб-додаток(написати імя свого файлу)/ Go to the Web page and add the web add-on(write the name of your file)
3. Перейти на сторінку Consoles і додати bash console там створити віртуальне оточення/ Go to the Consoles page and add bash console there to create a virtual environment : **python -m venv _ім'я оточення_**, та встановити всі потрібні модулі/ and install all required modules.
4. Далі потрібно перейти в папку mysite та командою **git clone** завантажити проект/ Then you need to go to the mysite folder and use the **git clone** command to download the project.
5. На сторінці Web в розділі Code - Working directory встановити путь до папки з проектом/ On the Web page in the Code - Working directory section, set the path to the folder with the project.
6. Перезавантажити додаток і все готово/ Reload the app and you're done.

# Опис найважливіших частин проекту/ Description of the most important parts of the project:

## Структура проекту/ Project structure:

**Щоб запустити наш проект віддаленно(на pythonanywhere) потрібно/To run our project remotely (on pythonanywhere) you need:**

1. Авторизуватися на сайті pythonanywhere і підтвердити пошту/ Log in to the pythonanywhere website and confirm your email
2. Перейти на сторінку Web і додати веб-додаток(написати імя свого файлу)/ Go to the Web page and add the web add-on(write the name of your file)
3. Перейти на сторінку Consoles і додати bash console там створити віртуальне оточення/ Go to the Consoles page and add bash console there to create a virtual environment : **python -m venv _ім'я оточення_**, та встановити всі потрібні модулі/ and install all required modules.
4. Далі потрібно перейти в папку mysite та командою **git clone** завантажити проект/ Then you need to go to the mysite folder and use the **git clone** command to download the project.
5. На сторінці Web в розділі Code - Working directory встановити путь до папки з проектом/ On the Web page in the Code - Working directory section, set the path to the folder with the project.
6. Перезавантажити додаток і все готово/ Reload the app and you're done.

# Опис найважливіших частин проекту/ Description of the most important parts of the project:

## Структура проекту/ Project structure:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_18.png "Structure of project")

**admin_page** - цей застосунок відповідає за сторінку адміна на нашому сайті, там ми можемо змінювати товари/ This link indicates the admin page on our website, where we can change products.

**bot_app** - цей застосунок відповідає за нашого бота, там ми можемо отримувати всі продукти, всіх користувачів та додавати товари/ This link is indicative of our bot, where we can pick up all products, all customers and add goods

**cart_page** - цей застосунок відповідає за корзину користувача, там ви можете обирати кількість товарів та оформити заказ, у випадку якщо ви помилились ви можете відмінити заказ/ this application is responsible for the user's shopping cart, there you can choose the number of products and complete the order, in case you made a mistake, you can cancel the order

**home_page** - цей застосунок відповідає за нашу головну сторінку, спочатку там є тільки реєстрація та авторизація, а потім вже і магазин і корзина/ This link represents our main page, initially there is only registration and authorization, and then the store and cart.

**login_page** - цей застосунок відповідає за авторизацію користувача/ This sign confirms the authorization of the accountant.

**registration_page** - цей застосунок відповідає за реєстрацію користувача/ This document confirms the registration of the accountant.

**shop** - це головний застосунок, в якому ми налаштовуємо наш проект, створюємо базу даних та міграції, і підключаємо всі сторінки/ This is the main step in which we set up our project, create a database and migration, and connect all the pages.

**shop_page** - цей застосунок відповідає за сторінку магазину на якій ми можемо замовити товари/ this application is responsible for the store page where we can order goods.

**static** - цей застосунок відповідає за файли CSS, JS та зображення

## Приклад створення головного додатку/ An example of creating a main application:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_1.png "Main app")

1. Імпортуємо модулі flask, flask_sqlalchemy, flask_migrate, os/ Imported modules flask, flask_sqlalchemy, flask_migrate, os.
2. Створюємо додаток від классу Flask і задаємо параметри: import_name, template_folder, 
instance_path/ We create an add-on in the Flask class and set the parameters: import_name, template_folder, 
instance_path.
3. Робимо конфігурацію з базою данних/ We make the configuration with the database.
4. Створюємо базу данних від классу SQLAlchemy і задаємо **параметр app**, де указуємо наш додаток/ We create a database from the SQLAlchemy class and set the **app parameter**, where we specify our application.
5. Створюємо міграції і задаємо параметри **app та db** де указуємо додаток та базу данних, яку ми створили/ We create migrations and set the parameters **app and db** where we specify the application and the database we created.

## Приклад створення Blueprint сторінки/ An example of creating a Blueprint page.

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_2.png "Blueprint")

1. Імпортуємо flask/ import flask.
2. Створюємо blueprint від классу Blueprint/ We create a blueprint from the Blueprint class.
3. Задаємо параметри: **name** - указуємо ім'я blueprint, **import_name** - указуємо назву додатку, **template_folder** - указуємо путь до папки templates/ We set the parameters: **name** - specify the name of the blueprint, **import_name** - specify the name of the application, **template_folder** - specify the path to the templates folder.

## Спосіб налаштування Blueprint у файлі urls/ Blueprint setup method in urls file.

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_3.png "Blueprint urls")

1. Імпортуємо головний додаток, наш blueprint та функцію із views/ We import the main application, our blueprint and the function from views.
2. До blueprint додаємо **add_url_rule**, а там указуємо параметр **rule**, **view_ func** де указуємо нашу функцію та **methods**/ We add **add_url_rule** to the blueprint, and there we specify the parameter **rule**, **view_ func** where we specify our function and **methods**.
3. До головного додатку примінюємо **register_blueprint** і указуємо там наш blueprint/ Apply **register_blueprint** to the main application and specify our blueprint there.

## Опис файлів settings, login_manage, mail_config:Description of settings, login_manager, mail_config files:

### Settings:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_1.png "Settings")

1. Імпортуємо модулі flask, flask_sqlalchemy, flask_migrate, os/ Imported modules flask, flask_sqlalchemy, flask_migrate, os.
2. Створюємо додаток від классу Flask і задаємо параметри: import_name, template_folder, 
instance_path/ We create an add-on in the Flask class and set the parameters: import_name, template_folder, 
instance_path.
3. Робимо конфігурацію з базою данних/ We make the configuration with the database.
4. Створюємо базу данних від классу SQLAlchemy і задаємо **параметр app**, де указуємо наш додаток/ We create a database from the SQLAlchemy class and set the **app parameter**, where we specify our application.
5. Створюємо міграції і задаємо параметри **app та db** де указуємо додаток та базу данних, яку ми створили/ We create migrations and set the parameters **app and db** where we specify the application and the database we created.

### Login_manage:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_4.png "Login_manage")

1. Імпортуємо flask_login, наш головний додаток та модель User/ Import flask_login, our main application, and the User model.
2. Задаємо додатку таємний ключ і створюємо login_manager від классу LoginManager та задаємо параметр **app** туди указуємо наш додаток/ We assign a secret key to the application and create a login_manager from the LoginManager class and set the parameter **app** and specify our application there.
3. Отримуємо користувача за допомогою декоратора: @login_manager.user_loader/ We get the user using the decorator: @login_manager.user_loader.
4. Створюємо функцію де отримуємо id користувача/ We create a function where we get the user id.

### Mail_config:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_5.png "Mail_config")

1. Імпортуємо наш головний додаток та із flask_mail імпортуємо Mail, Message
2. shop_app.config['MAIL_SERVER'] = 'your_mail_server'
3. shop_app.config['MAIL_PORT'] = 587
4. shop_app.config['MAIL_USE_TLS'] = True
5. shop_app.config['MAIL_USERNAME'] = 'your_email'
6. shop_app.config['MAIL_PASSWORD'] = 'your_pssword'

## Приклади форм HTML та для чого вони потрібні:/ Examples of HTML forms and what they are for:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_6.png "Registration")

Це форма для реєстрації користувача в яку тобі потрібно ввести ім'я, пошту, пароль та підтвердити його/ This is a user registration form in which you need to enter your name, email, password and confirm it.

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_7.png "Authorization")

Це форма для авторизації в яку тобі потрібно ввести або логін, або пошту та пароль, якщо все співпадає то ти авторизований/ This is a form for authorization in which you need to enter either a login, or email and password, if everything matches, then you are authorized.

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_8.png "Cart")

Це форма в корзині під час оформлення заказу, в яку тобі потрібно ввести ім'я, прізвище, телефон, пошту, місто, відділення нової пошти та, якщо потрібно, додаткові побажання/ This is a form in the shopping cart during checkout, in which you need to enter your first name, last name, phone number, post office, city, branch of the new post office and, if necessary, additional wishes.

## Опис файлів models:/ Description of models files:

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_9.png "Model1")

Цей файл models потрібен для реєстрації користувачів, він створює стовпці логіну, пошти, пароля та його підтвердження/ This models file is required for user registration, it creates columns for login, mail, password and its confirmation.

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_10.png "Model2")

Цей файл models потрібен для оформлення замовлення, він створює стовпці ім'я, прізвище, телефон, пошту, місто, відділення нової пошти та додаткові побажання/ This models file is required for placing an order, it creates the columns name, surname, phone, mail, city, branch of the new mail and additional wishes.

![alt text](https://github.com/Bogdantkach12/Flask_Shop/blob/main/Flask_Shop/static/registration_page/image/Screenshot_11.png "Model3")

Цей файл models потрібен для продуктів у магазині, він створює стовпці ім'я продукту, ціну, знижку, та нову ціну зі знижкою/ This models file is required for products in the store, it creates columns product name, price, discount, and new price with discount.
